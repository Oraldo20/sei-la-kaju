<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Um mimo para voc√™ üíñ</title>
    <style>
        :root {
            --cor-fundo: #fffafb;
            --cor-card: #ffffff;
            --cor-primaria: #ffccd5;
            --cor-secundaria: #fb6f92;
            --cor-texto: #4a4e69;
        }

        * { 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
            user-select: none;
        }

        body {
            margin: 0; padding: 0;
            font-family: Arial, sans-serif;
            background-color: var(--cor-fundo);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
            color: var(--cor-texto);
        }

        #topo {
            padding: 15px;
            text-align: center;
            background: var(--cor-card);
            border-bottom: 3px solid var(--cor-primaria);
            z-index: 10;
        }

        #coracao-gigante {
            font-size: 55px;
            display: inline-block;
            transition: transform 0.3s;
        }

        .barra-container {
            width: 70%;
            height: 18px;
            background: #f0f0f0;
            border-radius: 20px;
            margin: 10px auto;
            position: relative;
            border: 2px solid var(--cor-primaria);
        }

        #enchimento {
            width: 0%; height: 100%;
            background: var(--cor-secundaria);
            border-radius: 20px;
            transition: width 0.5s ease;
        }

        #game-stage {
            flex-grow: 1;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-content: center;
            padding: 10px;
        }

        .objeto {
            position: absolute;
            font-size: 45px;
            cursor: pointer;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(5px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .card-fofo {
            background: white;
            padding: 30px;
            border-radius: 30px;
            text-align: center;
            max-width: 85%;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .btn {
            background: var(--cor-secundaria);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            margin-top: 20px;
            cursor: pointer;
        }

        #contador-beijos {
            position: absolute;
            top: 10px; right: 10px;
            font-weight: bold;
            color: var(--cor-secundaria);
            background: white;
            padding: 5px 10px;
            border-radius: 15px;
            border: 2px solid var(--cor-primaria);
            z-index: 5;
        }

        /* Estilo para as cartinhas do Jogo 2 */
        .envelope {
            font-size: 50px;
            margin: 10px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        #final-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #ff85a1;
            color: white;
            z-index: 500;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>

    <div id="topo">
        <div id="coracao-gigante">‚ù§Ô∏è</div>
        <div class="barra-container"><div id="enchimento"></div></div>
    </div>

    <div id="game-stage">
        </div>

    <div id="overlay" class="overlay">
        <div class="card-fofo">
            <h2 id="msg-titulo" style="margin-top:0"></h2>
            <p id="msg-texto"></p>
            <button class="btn" onclick="proximaFase()">Continuar ‚ù§Ô∏è</button>
        </div>
    </div>

    <div id="final-screen">
        <h1 style="font-size: 80px;">‚ú®üíù‚ú®</h1>
        <h2>CONSEGUIMOS!</h2>
        <p style="font-size: 20px; max-width: 300px;">
            Olha s√≥ como esse cora√ß√£o ficou cheio! <br><br>
            Isso √© s√≥ um pouquinho do carinho que eu sinto por voc√™ todos os dias. <br>
            <b>Voc√™ √© incr√≠vel e eu adoro voc√™!</b>
        </p>
    </div>

    <script>
        let faseAtual = 0;
        let progressoTotal = 0;
        const stage = document.getElementById('game-stage');
        const overlay = document.getElementById('overlay');
        const enchimento = document.getElementById('enchimento');

        const roteiro = [
            { t: "Ei, psiu!", txt: "Fiz isso aqui para te deixar mais felizinha kkkkkk, Colete uns beijinhos primeiro" },
            { t: "Ai meu cora√ß√£o...", txt: "Voc√™ √© bem rapida kaju! Clica nas cartinha para achar o segredo maneiro" },
            { t: "gostou do segredo? kkkkk", txt: " Espero que tenha gostado, Agora sua miss√£o √© dar uns apert√µezinhos no cora√ß√£o" },
            { t: "Agora vamos florecer", txt: "vamos regar umas plantinhas para acalmar os animos" },
            { t: "Falta s√≥ mais um pouquinho", txt: "Para terminar, vamos tocar as estrelas agora, elas quase brilham tanto quanto vc lindinha." }
        ];

        function mostrarOverlay() {
            document.getElementById('msg-titulo').innerText = roteiro[faseAtual].t;
            document.getElementById('msg-texto').innerText = roteiro[faseAtual].txt;
            overlay.style.display = 'flex';
        }

        function proximaFase() {
            overlay.style.display = 'none';
            faseAtual++;
            stage.innerHTML = '';
            
            if(faseAtual == 1) jogoChuva();
            if(faseAtual == 2) jogoCartas(); // Jogo 2 Substitu√≠do
            if(faseAtual == 3) jogoClicker();
            if(faseAtual == 4) jogoFlores();
            if(faseAtual == 5) jogoEstrelas();
        }

        function somarProgresso(qtd) {
            progressoTotal += qtd;
            if(progressoTotal > 100) progressoTotal = 100;
            enchimento.style.width = progressoTotal + '%';
            document.getElementById('coracao-gigante').style.transform = 'scale(1.3)';
            setTimeout(() => { document.getElementById('coracao-gigante').style.transform = 'scale(1)'; }, 200);
            
            if(progressoTotal >= 100) {
                setTimeout(() => { document.getElementById('final-screen').style.display = 'flex'; }, 1000);
            }
        }

        // --- JOGO 1: CHUVA ---
        function jogoChuva() {
            let beijos = 0;
            const meta = 10;
            const indicador = document.createElement('div');
            indicador.id = 'contador-beijos';
            indicador.innerText = `Beijos: 0 / ${meta}`;
            stage.appendChild(indicador);

            let loop = setInterval(() => {
                const isBad = Math.random() > 0.7;
                const c = document.createElement('div');
                c.className = 'objeto';
                c.innerHTML = isBad ? (Math.random() > 0.5 ? 'üí£' : 'üåµ') : '‚ù§Ô∏è';
                c.style.left = Math.random() * 80 + '%';
                c.style.top = '-60px';
                c.style.transition = 'top 3s linear';
                stage.appendChild(c);
                
                setTimeout(() => { if(stage.contains(c)) c.style.top = '110%'; }, 50);

                const interagir = (e) => {
                    e.preventDefault();
                    if(!stage.contains(c)) return;
                    if(isBad) {
                        if(beijos > 0) beijos--;
                        c.innerHTML = 'üí•';
                    } else {
                        beijos++;
                        c.innerHTML = '‚ú®';
                        somarProgresso(2);
                    }
                    indicador.innerText = `Beijos: ${beijos} / ${meta}`;
                    setTimeout(() => { if(stage.contains(c)) c.remove(); }, 200);
                    
                    if(beijos >= meta) {
                        clearInterval(loop);
                        setTimeout(mostrarOverlay, 1000);
                    }
                };

                c.addEventListener('touchstart', interagir);
                c.addEventListener('mousedown', interagir);
                setTimeout(() => { if(stage.contains(c)) c.remove(); }, 3200);
            }, 800);
        }

        // --- JOGO 2 NOVO: ENCONTRE O SEGREDO ---
        function jogoCartas() {
            stage.style.flexDirection = 'row';
            const totalCartas = 9;
            const indexPremiado = Math.floor(Math.random() * totalCartas);
            
            for(let i=0; i < totalCartas; i++) {
                const carta = document.createElement('div');
                carta.className = 'envelope';
                carta.innerText = '‚úâÔ∏è';
                stage.appendChild(carta);

                const abrir = (e) => {
                    e.preventDefault();
                    if(carta.innerText !== '‚úâÔ∏è') return;
                    
                    if(i === indexPremiado) {
                        carta.innerText = 'üìú';
                        carta.style.transform = 'scale(1.2)';
                        const msg = document.createElement('div');
                        msg.style = "position:absolute; bottom:20px; width:100%; text-align:center; font-weight:bold; color:#fb6f92; padding:0 10px;";
                        msg.innerText = "Voce √© muito legal e a pessoa mais linda de todas, sou muito grato por poder dividir meu dia com voce mesmo que seja a distancia!";
                        stage.appendChild(msg);
                        somarProgresso(20);
                        setTimeout(mostrarOverlay, 3000);
                    } else {
                        carta.innerText = '‚ùå';
                        carta.style.opacity = '0.5';
                    }
                };
                carta.addEventListener('touchstart', abrir);
                carta.addEventListener('mousedown', abrir);
            }
        }

        // --- JOGO 3: CLICKER ---
        function jogoClicker() {
            const btn = document.createElement('div');
            btn.innerHTML = 'üíñ';
            btn.style = "font-size:120px; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); cursor:pointer";
            stage.appendChild(btn);
            let clicks = 0;
            const click = (e) => {
                e.preventDefault();
                clicks++;
                btn.style.transform = 'translate(-50%,-50%) scale(1.2)';
                setTimeout(() => btn.style.transform = 'translate(-50%,-50%) scale(1)', 100);
                somarProgresso(2);
                if(clicks >= 10) setTimeout(mostrarOverlay, 1000);
            };
            btn.addEventListener('touchstart', click);
            btn.addEventListener('mousedown', click);
        }

        // --- JOGO 4: FLORES ---
        function jogoFlores() {
            let fCount = 0;
            for(let i=0; i<5; i++) {
                const f = document.createElement('div');
                f.className = 'objeto';
                f.innerHTML = 'üå±';
                f.style.left = (10 + i*18) + '%';
                f.style.top = (30 + Math.random()*30) + '%';
                stage.appendChild(f);
                
                const crescer = (e) => {
                    e.preventDefault();
                    if(f.innerHTML == 'üå±') {
                        f.innerHTML = 'üå∏';
                        fCount++;
                        somarProgresso(4);
                        if(fCount >= 5) setTimeout(mostrarOverlay, 1000);
                    }
                };
                f.addEventListener('touchstart', crescer);
                f.addEventListener('mousedown', crescer);
            }
        }

        // --- JOGO 5: ESTRELAS ---
        function jogoEstrelas() {
            let eCount = 0;
            let loop = setInterval(() => {
                const s = document.createElement('div');
                s.className = 'objeto';
                s.innerHTML = '‚≠ê';
                s.style.left = Math.random()*80 + '%';
                s.style.top = Math.random()*80 + '%';
                stage.appendChild(s);
                setTimeout(() => { if(stage.contains(s)) s.remove(); }, 1200);

                const pegar = (e) => {
                    e.preventDefault();
                    s.innerHTML = '‚ú®';
                    eCount++;
                    somarProgresso(4);
                    if(eCount >= 5) { clearInterval(loop); somarProgresso(1); }
                };
                s.addEventListener('touchstart', pegar);
                s.addEventListener('mousedown', pegar);
            }, 900);
        }

        window.onload = mostrarOverlay;
    </script>
</body>
</html>

